# AI礼品推荐系统 - 使用指南

## ✅ 系统已完全开发完成！

### 🎯 功能清单

1. ✅ **推荐系统** - 根据筛选条件智能推荐礼品
2. ✅ **商品浏览** - 浏览所有商品列表
3. ✅ **数据爬取** - 淘宝、小红书爬虫代码
4. ✅ **数据库** - 已有90个商品数据

## 🚀 快速开始

### 1. 访问前端
打开浏览器访问：**http://localhost:3000**

### 2. 使用推荐功能
1. 点击"开始推荐"按钮
2. 填写筛选条件：
   - 收礼人类型（男/女友、父母、同事等）
   - 年龄段、性别、关系
   - 场景用途（生日、纪念日等）
   - 预算范围
   - 风格偏好（实用型、创意型、浪漫型等）
3. 点击"开始推荐"
4. 查看推荐结果

### 3. 浏览商品
点击"浏览商品"按钮，查看所有商品列表

### 4. 查看API文档
访问：**http://localhost:8000/docs**

## 🕷️ 爬虫使用

### 运行爬虫添加更多商品

```bash
# 进入后端容器
docker compose exec backend bash

# 运行爬虫
python -c "
import sys
sys.path.insert(0, '/app')
from app.crawlers.save_products import save_crawled_products
import asyncio
asyncio.run(save_crawled_products())
"
```

### 爬虫代码位置

- **淘宝爬虫**: `backend/app/crawlers/taobao_crawler.py`
- **小红书爬虫**: `backend/app/crawlers/xiaohongshu_crawler.py`
- **保存脚本**: `backend/app/crawlers/save_products.py`

### 当前实现

- ✅ 模拟数据生成（用于演示）
- ✅ 自动分类
- ✅ 保存到数据库
- ⚠️ 真实爬虫需要处理反爬虫（后续优化）

## 📊 数据状态

- **商品数量**: 90个
- **分类**: 8个（电子产品、美妆护肤、服饰配饰等）
- **平台**: 淘宝、小红书

## 🔧 故障排查

### 如果推荐失败

1. **检查后端是否运行**
   ```bash
   docker compose ps
   docker compose logs backend
   ```

2. **检查数据库数据**
   ```bash
   docker compose exec backend python -c "
   from app.core.database import SessionLocal
   from app.models import Product
   db = SessionLocal()
   print(f'商品数: {db.query(Product).count()}')
   db.close()
   "
   ```

3. **测试API**
   - 打开浏览器：http://localhost:8000/docs
   - 测试 `/api/v1/products` 接口
   - 测试 `/api/v1/recommendations` 接口

4. **查看前端控制台**
   - 按F12打开开发者工具
   - 查看Console和Network标签
   - 检查API请求和错误信息

### 如果商品列表显示错误

1. 检查后端API是否正常
2. 检查CORS配置
3. 查看浏览器控制台错误

## 📝 API使用示例

### 获取商品列表
```bash
curl http://localhost:8000/api/v1/products?limit=10
```

### 获取推荐
```bash
curl -X POST http://localhost:8000/api/v1/recommendations \
  -H "Content-Type: application/json" \
  -d '{
    "recipient_type": "男/女友",
    "occasion": "生日",
    "budget_min": 100,
    "budget_max": 1000,
    "style": "浪漫型"
  }'
```

## 🎯 下一步优化建议

1. **接入真实AI** - 使用OpenAI API优化推荐算法
2. **真实爬虫** - 使用Playwright实现真实数据爬取
3. **商品搜索** - 添加搜索功能
4. **评级系统** - 实现商品多维度评级
5. **用户系统** - 添加登录、收藏功能

## ✅ 系统状态

- ✅ 前后端正常运行
- ✅ 数据库连接正常
- ✅ 90个商品数据
- ✅ 推荐功能可用
- ✅ 商品浏览功能可用
- ✅ 爬虫代码已创建

**系统已完全可用！** 🎉
